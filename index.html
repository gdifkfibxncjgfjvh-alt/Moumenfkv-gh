<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Saad merabet</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 0;
      background: #f0f2f5;
      direction: rtl;
    }

    /* login */
    #loginDiv {
      text-align: center;
      margin-top: 100px;
    }

    #loginDiv input {
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    #loginDiv button {
      padding: 10px 20px;
      border: none;
      background: #1877f2;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
    }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
      padding: 10px 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      font-size: 24px;
      color: #000;
    }

    .logo .light {
      font-weight: 400;
    }

    .logo .bold {
      font-weight: 700;
    }

    .nav-icons .icon {
      margin-left: 15px;
      font-size: 22px;
      cursor: pointer;
    }

    /* Side menu */
    .side-menu {
      position: fixed;
      top: 0;
      right: -250px;
      width: 250px;
      height: 100%;
      background: #fff;
      box-shadow: -2px 0 5px rgba(0,0,0,0.2);
      transition: 0.3s;
      padding: 20px;
      z-index: 200;
    }

    .side-menu h3 {
      margin-top: 0;
    }

    .side-menu ul {
      list-style: none;
      padding: 0;
    }

    .side-menu li {
      padding: 10px 0;
      cursor: pointer;
    }

    .side-menu li:hover {
      background: #f0f0f0;
    }

    /* User cards */
    .user-card {
      background: #fff;
      margin: 10px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .username {
      font-weight: bold;
      margin: 5px 0;
    }

    .role {
      font-size: 11px;
      color: #555;
      margin-left: 6px;
      font-style: italic;
    }

    /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ø¹Ø¨ */
    .sh3ba-container {
      text-align: center;
      margin-top: 40px;
    }

    .sh3ba-container h2 {
      font-size: 26px;
      margin-bottom: 20px;
      color: #333;
    }

    .sh3ba-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .sh3ba-btn {
      padding: 15px 35px;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      cursor: pointer;
      color: #fff;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    .sh3ba-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.25);
    }

    .science {
      background: linear-gradient(135deg, #43cea2, #185a9d);
    }
    .math {
      background: linear-gradient(135deg, #2193b0, #6dd5ed);
    }
    .lit {
      background: linear-gradient(135deg, #cc2b5e, #753a88);
    }
    .tech {
      background: linear-gradient(135deg, #ff8008, #ffc837);
    }
  </style>
</head>
<body>

  <!-- login -->
  <div id="loginDiv">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input type="text" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"><br>
    <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"><br>
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  </div>

  <!-- Main system -->
  <div id="app" style="display:none;">
    <!-- Navbar -->
    <div class="navbar">
      <div class="logo">
        <span class="light">Saad</span><span class="bold">merabet</span>
      </div>
      <div class="nav-icons">
        <span class="icon" onclick="showHome()">ğŸ </span>
        <span class="icon" onclick="showMessenger()">ğŸ’¬</span>
        <span class="icon hamburger" onclick="toggleMenu()">â˜°</span>
      </div>
    </div>

    <!-- Side menu -->
    <div id="sideMenu" class="side-menu">
      <h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
      <ul>
        <li onclick="showAdminUsers()">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</li>
        <li onclick="manageSh3ba()">ğŸ« Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø¨</li>
        <li onclick="managePosts()">ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</li>
        <li onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</li>
      </ul>
      <div id="adminUsers"></div>
    </div>

    <!-- Main content -->
    <div id="main">
      <div id="chooseSh3ba" class="sh3ba-container">
        <h2>Ø§Ø®ØªØ± Ø´Ø¹Ø¨ØªÙƒ</h2>
        <div class="sh3ba-buttons">
          <button class="sh3ba-btn science" onclick="chooseSh3ba('Ø¹Ù„ÙˆÙ…')">ğŸ”¬ Ø¹Ù„ÙˆÙ…</button>
          <button class="sh3ba-btn math" onclick="chooseSh3ba('Ø±ÙŠØ§Ø¶ÙŠØ§Øª')">ğŸ“ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button>
          <button class="sh3ba-btn lit" onclick="chooseSh3ba('Ø¢Ø¯Ø§Ø¨')">ğŸ“– Ø¢Ø¯Ø§Ø¨</button>
          <button class="sh3ba-btn tech" onclick="chooseSh3ba('ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§')">ğŸ’» ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let users = [
      { username: "moumen", email: "moumen1392007@gmail.com", role: "developer", sh3ba: "all" }
    ];

    let currentUser = null;
    let posts = [];
    let chatMessages = [];

    function login() {
      const email = document.getElementById("email").value;
      const username = document.getElementById("username").value;

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø¯Ù…Ù†
      if (email === "moumen1392007@gmail.com") {
        currentUser = { username: "moumen", email, role: "developer", sh3ba: "all" };
      } else {
        currentUser = { username, email, role: "member", sh3ba: null };
      }

      document.getElementById("loginDiv").style.display = "none";
      document.getElementById("app").style.display = "block";

      if (currentUser.role !== "developer") {
        document.querySelector(".hamburger").style.display = "none";
      }
    }

    function toggleMenu() {
      const menu = document.getElementById("sideMenu");
      menu.style.right = (menu.style.right === "0px") ? "-250px" : "0px";
    }

    function chooseSh3ba(sh3ba) {
      currentUser.sh3ba = sh3ba;
      showHome();
    }

    function showHome() {
      const mySh3ba = currentUser.sh3ba;
      let timeline = posts
        .filter(p => p.sh3ba === mySh3ba)
        .map(p => `<div class="user-card"><b>${p.user}</b> <span class="role">${getRole(p.user)}</span>: ${p.text}</div>`)
        .join("");
      document.getElementById("main").innerHTML = `
        <h2 style="padding:10px;">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ø´Ø¹Ø¨Ø© ${mySh3ba}</h2>
        ${timeline}
        <textarea id="postText" placeholder="Ø§ÙƒØªØ¨ Ù…Ù†Ø´ÙˆØ±Ùƒ..." style="width:90%;margin:10px;"></textarea>
        <button onclick="addPost()">Ù†Ø´Ø±</button>
      `;
    }

    function addPost() {
      const text = document.getElementById("postText").value;
      posts.push({ user: currentUser.username, sh3ba: currentUser.sh3ba, text });
      showHome();
    }

    function showMessenger() {
      const mySh3ba = currentUser.sh3ba;
      let msgs = chatMessages
        .filter(m => m.sh3ba === mySh3ba)
        .map(m => `<div><b>${m.user}</b>: ${m.text}</div>`)
        .join("");
      document.getElementById("main").innerHTML = `
        <h2>ğŸ’¬ Ù…Ø­Ø§Ø¯Ø«Ø© Ø´Ø¹Ø¨Ø© ${mySh3ba}</h2>
        <div id="chatBox" style="border:1px solid #ccc; height:200px; overflow-y:auto; background:#fff; padding:5px;">
          ${msgs}
        </div>
        <input id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." style="width:70%;">
        <button onclick="sendMsg()">Ø¥Ø±Ø³Ø§Ù„</button>
      `;
    }

    function sendMsg() {
      const text = document.getElementById("msgInput").value;
      chatMessages.push({ user: currentUser.username, sh3ba: currentUser.sh3ba, text });
      showMessenger();
    }

    function getRole(username) {
      if (username === "moumen") return "Ù…Ø·ÙˆØ±";
      let user = users.find(u => u.username === username);
      if (!user) return "Ø¹Ø¶Ùˆ";
      return user.role === "moderator" ? "Ù…Ø´Ø±Ù Ø´Ø¹Ø¨Ø©" :
             user.role === "publisher" ? "Ù†Ø§Ø´Ø±" : "Ø¹Ø¶Ùˆ";
    }

    function showAdminUsers() {
      let container = document.getElementById("adminUsers");
      container.innerHTML = "<h3>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</h3>";
      users.forEach((u, i) => {
        container.innerHTML += `
          <div>${u.username} (${getRole(u.username)})
            <button onclick="setRole(${i}, 'moderator')">Ù…Ø´Ø±Ù</button>
            <button onclick="setRole(${i}, 'publisher')">Ù†Ø§Ø´Ø±</button>
            <button onclick="setRole(${i}, 'member')">Ø¹Ø¶Ùˆ</button>
          </div>`;
      });
    }

    function setRole(index, role) {
      users[index].role = role;
      showAdminUsers();
    }

    function manageSh3ba() {
      alert("Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø¨ (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹).");
    }

    function managePosts() {
      alert("Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹).");
    }

    function logout() {
      location.reload();
    }
  </script>
</body>
</html>
